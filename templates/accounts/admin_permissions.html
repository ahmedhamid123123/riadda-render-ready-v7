{% extends "base/base.html" %}

{% block content %}

<!-- ================= ููุฏูุฉ ุงูุตูุญุฉ ================= -->
<div class="card">
    <h2>ุฅุฏุงุฑุฉ ุตูุงุญูุงุช ุงููุดุฑู</h2>

    <p>
        ูู ูุฐู ุงูุตูุญุฉ ูููู ูู <strong>ุงูุณูุจุฑ ุฃุฏูู</strong>
        ุงูุชุญูู ุจุตูุงุญูุงุช ุงููุดุฑู ูุชุบููุฑ ููุนู ุงููุธููู (ุชุฑููุฉ / ุชุฎููุถ).
    </p>

    <p class="text-muted">
        ุงููุดุฑู ุงูุญุงูู:
        <strong>{{ admin_obj.username }}</strong>
    </p>
</div>

<!-- ================= ูููุฐุฌ ุงูุตูุงุญูุงุช ================= -->
<div class="card">
    <form method="post" novalidate>
        {% csrf_token %}

        <!-- ================= Preset ================= -->
        <h3>ููุน ุงููุดุฑู</h3>
        <p class="hint-text">
            ุงุฎุชูุงุฑ ููุน ุฌุงูุฒ ุณูููู ุจููุก ุงูุตูุงุญูุงุช ุชููุงุฆููุง.
            ููููู ุจุนุฏูุง ุงูุชุนุฏูู ุงููุฏูู ุฅู ุฃุฑุฏุช.
        </p>

        <select name="preset">
            <option value="CUSTOM" {% if perms.preset == 'CUSTOM' %}selected{% endif %}>
                ูุฎุตุต (ุชุนุฏูู ูุฏูู)
            </option>
            <option value="READ_ONLY" {% if perms.preset == 'READ_ONLY' %}selected{% endif %}>
                ูุฑุงุกุฉ ููุท
            </option>
            <option value="MANAGER" {% if perms.preset == 'MANAGER' %}selected{% endif %}>
                ูุฏูุฑ
            </option>
            <option value="ACCOUNTANT" {% if perms.preset == 'ACCOUNTANT' %}selected{% endif %}>
                ูุญุงุณุจ
            </option>
        </select>

        <p class="text-muted mt-10">
            ุงูููุน ุงูุญุงูู:
            <strong>{{ perms.get_preset_display }}</strong>
        </p>

        {% if perms.preset != 'CUSTOM' %}
            <div class="alert alert-info mt-10">
                โน๏ธ ูุฐุง ุงููุดุฑู ุญุงููุงู ูุณุชุฎุฏู ูุงูุจ ุตูุงุญูุงุช ุฌุงูุฒ ({{ perms.get_preset_display }}).
                ุฃู ุชุนุฏูู ูุฏูู ุณูุญููู ุงูููุน ุชููุงุฆููุง ุฅูู <strong>ูุฎุตุต</strong>.
            </div>
        {% endif %}

        <hr>

        <!-- ================= Manual Permissions ================= -->
        <h3>ุงูุตูุงุญูุงุช ุงูุชูุตูููุฉ</h3>

        <div class="permissions-group">

            <label>
                <input type="checkbox" name="can_view_agents"
                       {% if perms.can_view_agents %}checked{% endif %}>
                ูุดุงูุฏุฉ ุงููููุงุก
            </label>

            <label>
                <input type="checkbox" name="can_add_agents"
                       {% if perms.can_add_agents %}checked{% endif %}>
                ุฅุถุงูุฉ ูููุงุก ุฌุฏุฏ
            </label>

            <label>
                <input type="checkbox" name="can_edit_agents"
                       {% if perms.can_edit_agents %}checked{% endif %}>
                ุชุนุฏูู ุงููููุงุก
            </label>

            <label>
                <input type="checkbox" name="can_view_commissions"
                       {% if perms.can_view_commissions %}checked{% endif %}>
                ูุดุงูุฏุฉ ุงูุนูููุงุช
            </label>

            <label>
                <input type="checkbox" name="can_edit_commissions"
                       {% if perms.can_edit_commissions %}checked{% endif %}>
                ุชุนุฏูู ุงูุนูููุงุช
            </label>

            <label>
                <input type="checkbox" name="can_view_reports"
                       {% if perms.can_view_reports %}checked{% endif %}>
                ูุดุงูุฏุฉ ุงูุชูุงุฑูุฑ
            </label>

            <label>
                <input type="checkbox" name="can_view_profit"
                       {% if perms.can_view_profit %}checked{% endif %}>
                ุฅุธูุงุฑ ุตูุญุฉ ุงูุฃุฑุจุงุญ
            </label>

            <label>
                <input type="checkbox" name="can_view_audit_logs"
                       {% if perms.can_view_audit_logs %}checked{% endif %}>
                ูุดุงูุฏุฉ ุณุฌู ุงูุนูููุงุช
            </label>

        </div>

        <hr>

        <!-- ================= Actions ================= -->
        <div class="form-actions">
            <button type="submit" class="btn primary">
                ๐พ ุญูุธ ุงูุตูุงุญูุงุช
            </button>

            <a href="{% url 'admin_admin_detail' admin_obj.id %}" class="btn secondary">
                โฌ๏ธ ุฅูุบุงุก
            </a>
        </div>
    </form>
</div>

{% endblock %}
<!-- ================= ุฅุถุงูุฉ ูุดุฑู ุฌุฏูุฏ ================= -->
<div class="card mb-20">
    <h3>ุฅุถุงูุฉ ูุดุฑู ุฌุฏูุฏ</h3>

    <form method="post" action="{% url 'admin_add_admin' %}">        
        {% csrf_token %}    
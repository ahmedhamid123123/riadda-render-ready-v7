
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ريادة | نظام بيع بطاقات الشحن</title>

    <!-- خط عربي -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap"
          rel="stylesheet">

    <!-- CSS العام -->
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/utilities.css">
    <link rel="stylesheet" href="/static/css/agent-ui.css">
    
    <style>
        .logo span {
            font-size: 13px;
            color: #ccc;
        }
    </style>
</head>
<body>

    <a class="skip-link" href="#main-content">تخطي إلى المحتوى</a>



<!-- ================= Content ================= -->
<main id="main-content" class="container" role="main">

    

    

<link rel="stylesheet" href="/static/css/login.css">

<div class="login-wrapper">

    <div class="login-card">

        <h2 class="login-title">تسجيل الدخول</h2>
        <p class="login-subtitle">نظام ريادة لبيع بطاقات الشحن</p>

        <form method="post" novalidate>
            <input type="hidden" name="csrfmiddlewaretoken" value="MvGTLytZJPQPIXQRLC3l0onDms23CS5l6oYI5puQyeIeyrNgbBWDSLKg1PYNM7VK">

            <div class="form-group">
                <label>اسم المستخدم</label>
                <input
                    type="text"
                    name="username"
                    placeholder="أدخل اسم المستخدم"
                    required
                    autofocus
                >
            </div>

            <div class="form-group">
                <label>كلمة المرور</label>
                <input
                    type="password"
                    name="password"
                    placeholder="أدخل كلمة المرور"
                    required
                >
            </div>

            <button type="submit" class="login-btn">
                دخول
            </button>
        </form>

        <div class="login-footer">
            <p>©  ريادة</p>
        </div>

    </div>

</div>



</main>

<!-- Footer landmark (if present in templates) -->
</main>

<script>
    // Sidebar toggle logic — attach after DOM ready and add fallback onclick
document.addEventListener('DOMContentLoaded', function(){
    const toggle = document.getElementById('sidebarToggle');
    const sidebar = document.getElementById('siteSidebar');
    const overlay = document.getElementById('sidebarOverlay');

    console.log('sidebar:init - elements', { toggleExists: !!toggle, sidebarExists: !!sidebar, overlayExists: !!overlay });

    if(!toggle || !sidebar) return;

    const body = document.body;

    function openMobile(){
        body.classList.add('sidebar-open');
        toggle.classList.add('active');
        toggle.setAttribute('aria-expanded', 'true');
        toggle.setAttribute('aria-pressed', 'true');
        if(overlay) overlay.classList.add('visible');
        // also add .open to sidebar for CSS compatibility
        sidebar.classList.add('open');
        console.log('sidebar:opened');
    }

    function closeMobile(){
        body.classList.remove('sidebar-open');
        toggle.classList.remove('active');
        toggle.setAttribute('aria-expanded', 'false');
        toggle.setAttribute('aria-pressed', 'false');
        if(overlay) overlay.classList.remove('visible');
        // also remove .open from sidebar
        sidebar.classList.remove('open');
        console.log('sidebar:closed');
    }

    function toggleDesktop(){
        if(body.classList.contains('sidebar-collapsed')){
            body.classList.remove('sidebar-collapsed');
            toggle.classList.add('active');
            toggle.setAttribute('aria-expanded', 'true');
            toggle.setAttribute('aria-pressed', 'true');
            sidebar.classList.remove('open');
        } else {
            body.classList.add('sidebar-collapsed');
            toggle.classList.remove('active');
            toggle.setAttribute('aria-expanded', 'false');
            toggle.setAttribute('aria-pressed', 'false');
            sidebar.classList.remove('open');
        }
    }

    function handleToggle(e){
        console.log('sidebar:toggle event', e && e.type, 'innerWidth', window.innerWidth);
        // support both click event and synthetic events
        try { if(e && e.preventDefault) e.preventDefault(); } catch(_){}
        if(window.innerWidth <= 991){
            if(body.classList.contains('sidebar-open')) closeMobile();
            else openMobile();
        } else {
            toggleDesktop();
        }
    }

    // Primary listener
    toggle.addEventListener('click', handleToggle);
    // Touch fallback for mobile
    toggle.addEventListener('touchstart', handleToggle);
    // Keyboard activation (Enter / Space)
    toggle.addEventListener('keydown', function(e){
        if(e.key === 'Enter' || e.key === ' '){
            handleToggle(e);
        }
    });
    // Fallback direct handler for environments blocking addEventListener
    toggle.onclick = handleToggle;

    // overlay click closes mobile sidebar
    if(overlay){
        overlay.addEventListener('click', function(){ closeMobile(); });
    }

    // clicking outside should close mobile sidebar (mobile only)
    document.addEventListener('click', function(e){
        if(window.innerWidth <= 991){
            if(!sidebar.contains(e.target) && !toggle.contains(e.target) && !(overlay && overlay.contains(e.target))){
                closeMobile();
            }
        }
    });

    // on resize, clear mobile/overlay state when moving to desktop
    window.addEventListener('resize', function(){
        if(window.innerWidth > 991){
            closeMobile();
        }
    });
});
</script>

</body>
</html>
